Logging to: experiments/00_baseline_exploration/sweep2_h16_drop_0.25/evaluation/evaluation_20251030_031330.log
Evaluation started at: 2025-10-30 03:13:30
======================================================================
Loading test data...
Loading data from:
  Test:  data/splits/fixed/core_proposal_daily_fixed_test.csv
  Train: data/splits/fixed/core_proposal_daily_fixed_train.csv
Test samples: 1300
Preparing test dataset...
Expected test predictions: 1281 (test samples - encoder length + 1)
Loading model from checkpoint...
Generating predictions...
Total predictions: 1280, Total actuals: 1280

Prediction Generation Summary:
  Total predictions: 1280
  Test dataset size: 1280
  Test dataloader batches: 10
  Prediction statistics:
    Min: -0.055598
    Max: 0.231256
    Mean: 0.049885
    Std: 0.029732
    Unique values: 1279

WARNING: Predictions (1280) < Test samples (1300)
Date range: 2020-08-19T00:00:00.000000000 to 2025-10-06T00:00:00.000000000

Prediction period: 2020-08-19T00:00:00.000000000 to 2025-10-06T00:00:00.000000000 (1280 samples)
Computing metrics...
Predictions - min: -0.0556, max: 0.2313, mean: 0.0499
Negative predictions: 65/1280
Analyzing prediction behavior for collapse...

======================================================================
TEMPORAL QUALITY ANALYSIS (4-Mode Detection)
======================================================================

Structural Detection Methods:
----------------------------------------------------------------------
1. Variance-based              [WARN]  278 days ( 21.7%)
2. Range-based                 [ OK ]   53 days (  4.1%)
3. Consecutive-similarity      [ OK ]   27 days (  2.1%)

Quality Metrics:
----------------------------------------------------------------------
  Correlation < 0.0                    303 days ( 23.7%)
  Directional acc < 52%                433 days ( 33.8%)
  Combined (BOTH poor)                  81 days (  6.3%)
  Unidirectional (>98%)        [WARN]   978 days ( 76.4%)

----------------------------------------------------------------------
Temporal Summary:
----------------------------------------------------------------------
[ OK ] 2020-08-19 to 2020-09-30 (  30 days): HEALTHY              - std=0.0226, corr=+0.000, dir_acc=0.500
[UNI ] 2020-10-01 to 2021-12-08 ( 296 days): UNIDIRECTIONAL       - std=0.0241, corr=+0.144, dir_acc=0.563
[ OK ] 2021-12-09 to 2022-01-25 (  32 days): HEALTHY              - std=0.0434, corr=+0.050, dir_acc=0.611
[ OK ] 2022-02-10 to 2022-03-25 (  31 days): HEALTHY              - std=0.0526, corr=+0.051, dir_acc=0.428
[DEGD] 2022-03-28 to 2022-04-05 (   7 days): DEGRADED             - std=0.0161, corr=-0.015, dir_acc=0.362
[ OK ] 2022-04-13 to 2022-04-26 (   9 days): HEALTHY              - std=0.0133, corr=+0.057, dir_acc=0.370
[ OK ] 2022-05-03 to 2022-06-02 (  22 days): HEALTHY              - std=0.0475, corr=+0.045, dir_acc=0.392
[ OK ] 2022-06-08 to 2022-09-02 (  61 days): HEALTHY              - std=0.0345, corr=+0.093, dir_acc=0.519
[ OK ] 2022-09-08 to 2022-09-19 (   8 days): HEALTHY              - std=0.0144, corr=-0.028, dir_acc=0.542
[DEGD] 2022-09-20 to 2022-10-04 (  11 days): DEGRADED             - std=0.0238, corr=-0.116, dir_acc=0.474
[UNI ] 2022-10-05 to 2022-10-27 (  16 days): UNIDIRECTIONAL       - std=0.0240, corr=+0.007, dir_acc=0.420
[ OK ] 2022-10-28 to 2023-02-03 (  66 days): HEALTHY              - std=0.0229, corr=+0.078, dir_acc=0.425
[UNI ] 2023-02-06 to 2024-01-29 ( 245 days): UNIDIRECTIONAL       - std=0.0140, corr=+0.067, dir_acc=0.528
[FAIL] 2024-01-31 to 2024-03-08 (  27 days): STRONG_COLLAPSE      - std=0.0027, corr=+0.289, dir_acc=0.633
[WEAK] 2024-03-11 to 2024-04-15 (  25 days): WEAK_COLLAPSE        - std=0.0050, corr=+0.279, dir_acc=0.567
[UNI ] 2024-04-16 to 2025-10-06 ( 368 days): UNIDIRECTIONAL       - std=0.0245, corr=+0.077, dir_acc=0.567
----------------------------------------------------------------------

Mode Distribution:
  HEALTHY:           267 days ( 20.9%)
  DEGRADED:           35 days (  2.7%)
  UNIDIRECTIONAL:    925 days ( 72.3%)
  WEAK_COLLAPSE:      26 days (  2.0%)
  STRONG_COLLAPSE:    27 days (  2.1%)

  Total problematic: 1013 days (79.1%)

[WARN] STRUCTURAL COLLAPSE DETECTED
[WARN] PREDICTION QUALITY DEGRADATION DETECTED
======================================================================

Creating diagnostic plots...
Regression diagnostic plots saved to: experiments/00_baseline_exploration/sweep2_h16_drop_0.25/evaluation/diagnostic_plots.png
Quality diagnostic plots saved to: experiments/00_baseline_exploration/sweep2_h16_drop_0.25/evaluation/quality_diagnostics.png
Saving results...

======================================================================
EVALUATION RESULTS
======================================================================

STATISTICAL METRICS:
  MSE:              1.173303
  RMSE:             1.083191
  MAE:              0.771979
  Out-of-sample RÂ²: 0.0029

FINANCIAL METRICS:
  Directional Acc:  53.91%
  Sharpe Ratio:     0.9279
  Total Return:     103.58%
  Max Drawdown:     -22.38%
  Hit Rate:         51.25%
  Number of Trades: 1215

CLASSIFICATION METRICS (Binary Up/Down):
  Precision:        0.5399
  Recall:           0.9549
  F1 Score:         0.6898
  AUC-ROC:          0.5087

  Confusion Matrix:
                   Predicted Down  Predicted Up
  Actual Down:         34             559
  Actual Up:           31             656

ALPHA (vs Buy-and-Hold):
  Excess Return:    11.41%

======================================================================

Results saved to: experiments/00_baseline_exploration/sweep2_h16_drop_0.25/evaluation
  - predictions.csv
  - evaluation_metrics.json
  - diagnostic_plots.png
  - performance_plots.png
  - evaluation_<timestamp>.log

Evaluation completed at: 2025-10-30 03:13:43
======================================================================
