Logging to: experiments/00_baseline_exploration/sweep2_h16_drop_0.2/evaluation/evaluation_20251030_031313.log
Evaluation started at: 2025-10-30 03:13:13
======================================================================
Loading test data...
Loading data from:
  Test:  data/splits/fixed/core_proposal_daily_fixed_test.csv
  Train: data/splits/fixed/core_proposal_daily_fixed_train.csv
Test samples: 1300
Preparing test dataset...
Expected test predictions: 1281 (test samples - encoder length + 1)
Loading model from checkpoint...
Generating predictions...
Total predictions: 1280, Total actuals: 1280

Prediction Generation Summary:
  Total predictions: 1280
  Test dataset size: 1280
  Test dataloader batches: 10
  Prediction statistics:
    Min: -0.091126
    Max: 0.234459
    Mean: 0.044575
    Std: 0.038264
    Unique values: 1280

WARNING: Predictions (1280) < Test samples (1300)
Date range: 2020-08-19T00:00:00.000000000 to 2025-10-06T00:00:00.000000000

Prediction period: 2020-08-19T00:00:00.000000000 to 2025-10-06T00:00:00.000000000 (1280 samples)
Computing metrics...
Predictions - min: -0.0911, max: 0.2345, mean: 0.0446
Negative predictions: 145/1280
Analyzing prediction behavior for collapse...

======================================================================
TEMPORAL QUALITY ANALYSIS (4-Mode Detection)
======================================================================

Structural Detection Methods:
----------------------------------------------------------------------
1. Variance-based              [WARN]  146 days ( 11.4%)
2. Range-based                 [ OK ]   41 days (  3.2%)
3. Consecutive-similarity      [ OK ]    0 days (  0.0%)

Quality Metrics:
----------------------------------------------------------------------
  Correlation < 0.0                    389 days ( 30.4%)
  Directional acc < 52%                454 days ( 35.5%)
  Combined (BOTH poor)                 145 days ( 11.3%)
  Unidirectional (>98%)        [WARN]   699 days ( 54.6%)

----------------------------------------------------------------------
Temporal Summary:
----------------------------------------------------------------------
[ OK ] 2020-08-19 to 2020-09-30 (  30 days): HEALTHY              - std=0.0303, corr=+0.000, dir_acc=0.500
[UNI ] 2020-10-01 to 2021-03-15 ( 111 days): UNIDIRECTIONAL       - std=0.0396, corr=+0.114, dir_acc=0.559
[ OK ] 2021-03-16 to 2021-06-11 (  62 days): HEALTHY              - std=0.0292, corr=+0.200, dir_acc=0.581
[UNI ] 2021-06-14 to 2021-10-14 (  86 days): UNIDIRECTIONAL       - std=0.0225, corr=+0.245, dir_acc=0.576
[ OK ] 2021-10-21 to 2021-11-19 (  21 days): HEALTHY              - std=0.0182, corr=-0.053, dir_acc=0.559
[ OK ] 2021-12-06 to 2022-01-06 (  23 days): HEALTHY              - std=0.0423, corr=-0.012, dir_acc=0.563
[DEGD] 2022-01-19 to 2022-02-16 (  21 days): DEGRADED             - std=0.0783, corr=-0.061, dir_acc=0.460
[ OK ] 2022-02-25 to 2022-03-04 (   6 days): HEALTHY              - std=0.0144, corr=+0.039, dir_acc=0.439
[ OK ] 2022-03-09 to 2022-03-16 (   6 days): HEALTHY              - std=0.0361, corr=+0.025, dir_acc=0.392
[DEGD] 2022-03-25 to 2022-04-12 (  13 days): DEGRADED             - std=0.0444, corr=-0.015, dir_acc=0.382
[ OK ] 2022-04-13 to 2022-08-30 (  96 days): HEALTHY              - std=0.0428, corr=+0.099, dir_acc=0.493
[DEGD] 2022-09-15 to 2022-10-14 (  21 days): DEGRADED             - std=0.0246, corr=-0.101, dir_acc=0.454
[ OK ] 2022-10-21 to 2023-03-10 (  95 days): HEALTHY              - std=0.0271, corr=+0.128, dir_acc=0.512
[ OK ] 2023-03-14 to 2023-03-30 (  13 days): HEALTHY              - std=0.0408, corr=+0.074, dir_acc=0.512
[DEGD] 2023-04-14 to 2023-04-26 (   9 days): DEGRADED             - std=0.0120, corr=-0.021, dir_acc=0.457
[ OK ] 2023-05-05 to 2023-07-03 (  40 days): HEALTHY              - std=0.0162, corr=+0.077, dir_acc=0.474
[UNI ] 2023-07-05 to 2024-02-06 ( 149 days): UNIDIRECTIONAL       - std=0.0164, corr=+0.015, dir_acc=0.548
[WEAK] 2024-02-07 to 2024-04-05 (  41 days): WEAK_COLLAPSE        - std=0.0048, corr=+0.271, dir_acc=0.603
[UNI ] 2024-04-08 to 2025-05-13 ( 274 days): UNIDIRECTIONAL       - std=0.0363, corr=+0.031, dir_acc=0.560
[ OK ] 2025-05-14 to 2025-07-29 (  52 days): HEALTHY              - std=0.0268, corr=+0.039, dir_acc=0.522
[DEGD] 2025-07-30 to 2025-08-06 (   6 days): DEGRADED             - std=0.0159, corr=-0.031, dir_acc=0.514
[UNI ] 2025-08-13 to 2025-10-06 (  38 days): UNIDIRECTIONAL       - std=0.0060, corr=+0.288, dir_acc=0.564
----------------------------------------------------------------------

Mode Distribution:
  HEALTHY:           477 days ( 37.3%)
  DEGRADED:          104 days (  8.1%)
  UNIDIRECTIONAL:    658 days ( 51.4%)
  WEAK_COLLAPSE:      41 days (  3.2%)
  STRONG_COLLAPSE:     0 days (  0.0%)

  Total problematic:  803 days (62.7%)

[WARN] STRUCTURAL COLLAPSE DETECTED
[WARN] PREDICTION QUALITY DEGRADATION DETECTED
======================================================================

Creating diagnostic plots...
Regression diagnostic plots saved to: experiments/00_baseline_exploration/sweep2_h16_drop_0.2/evaluation/diagnostic_plots.png
Quality diagnostic plots saved to: experiments/00_baseline_exploration/sweep2_h16_drop_0.2/evaluation/quality_diagnostics.png
Saving results...

======================================================================
EVALUATION RESULTS
======================================================================

STATISTICAL METRICS:
  MSE:              1.173324
  RMSE:             1.083201
  MAE:              0.772000
  Out-of-sample RÂ²: 0.0029

FINANCIAL METRICS:
  Directional Acc:  53.91%
  Sharpe Ratio:     0.9905
  Total Return:     108.40%
  Max Drawdown:     -18.90%
  Hit Rate:         48.12%
  Number of Trades: 1135

CLASSIFICATION METRICS (Binary Up/Down):
  Precision:        0.5427
  Recall:           0.8967
  F1 Score:         0.6762
  AUC-ROC:          0.5185

  Confusion Matrix:
                   Predicted Down  Predicted Up
  Actual Down:         74             519
  Actual Up:           71             616

ALPHA (vs Buy-and-Hold):
  Excess Return:    16.24%

======================================================================

Results saved to: experiments/00_baseline_exploration/sweep2_h16_drop_0.2/evaluation
  - predictions.csv
  - evaluation_metrics.json
  - diagnostic_plots.png
  - performance_plots.png
  - evaluation_<timestamp>.log

Evaluation completed at: 2025-10-30 03:13:26
======================================================================
